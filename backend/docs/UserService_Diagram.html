<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UserService - T√†i Li·ªáu Chi Ti·∫øt</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 100%);
            color: #eee;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #00d9ff;
            margin-bottom: 10px;
            font-size: 2.5em;
            text-shadow: 0 0 20px rgba(0, 217, 255, 0.3);
        }

        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 30px;
        }

        h2 {
            color: #ffd700;
            margin: 40px 0 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ffd700;
        }

        h3 {
            color: #00ff88;
            margin: 25px 0 15px;
        }

        .section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .mermaid {
            background: #fff;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 14px;
        }

        th,
        td {
            padding: 12px 15px;
            text-align: left;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        th {
            background: rgba(0, 217, 255, 0.2);
            color: #00d9ff;
        }

        tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        code {
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 8px;
            border-radius: 4px;
            color: #00ff88;
            font-family: 'Consolas', monospace;
        }

        pre {
            background: rgba(0, 0, 0, 0.4);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 10px 0;
        }

        pre code {
            padding: 0;
            background: transparent;
        }

        .success-box {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 217, 255, 0.1));
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #00ff88;
            margin: 15px 0;
        }

        .warning-box {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(255, 152, 0, 0.1));
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #ffc107;
            margin: 15px 0;
        }

        .info-box {
            background: linear-gradient(135deg, rgba(0, 123, 255, 0.1), rgba(0, 217, 255, 0.1));
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #007bff;
            margin: 15px 0;
        }

        ul,
        ol {
            padding-left: 25px;
            margin: 10px 0;
        }

        li {
            margin: 8px 0;
            line-height: 1.6;
        }

        .badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin: 2px;
        }

        .badge-primary {
            background: #007bff;
            color: white;
        }

        .badge-success {
            background: #28a745;
            color: white;
        }

        .badge-warning {
            background: #ffc107;
            color: black;
        }

        .badge-danger {
            background: #dc3545;
            color: white;
        }

        .badge-info {
            background: #17a2b8;
            color: white;
        }

        .back-link {
            display: inline-block;
            color: #00d9ff;
            text-decoration: none;
            margin-bottom: 20px;
            padding: 10px 20px;
            border: 1px solid #00d9ff;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background: rgba(0, 217, 255, 0.2);
        }

        footer {
            text-align: center;
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #666;
        }
    </style>
</head>

<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Quay l·∫°i trang ch√≠nh</a>

        <h1>üë§ UserService</h1>
        <p class="subtitle">H·ªá th·ªëng Qu·∫£n l√Ω Ng∆∞·ªùi d√πng - User Management & Profile</p>

        <!-- Overview Section -->
        <div class="section">
            <h2>üìã T·ªïng Quan</h2>
            <p>UserService qu·∫£n l√Ω th√¥ng tin ng∆∞·ªùi d√πng bao g·ªìm customers, staff, v√† admins:</p>
            
            <div class="success-box">
                <strong>‚ú® Key Features:</strong>
                <ul>
                    <li><strong>User CRUD:</strong> T·∫°o, ƒë·ªçc, c·∫≠p nh·∫≠t, x√≥a ng∆∞·ªùi d√πng</li>
                    <li><strong>Profile Management:</strong> Qu·∫£n l√Ω th√¥ng tin c√° nh√¢n</li>
                    <li><strong>Role-based Queries:</strong> T√¨m ki·∫øm theo role (Customer, Staff, Admin)</li>
                    <li><strong>Avatar Upload:</strong> T√≠ch h·ª£p v·ªõi Image Service</li>
                    <li><strong>Address Management:</strong> Qu·∫£n l√Ω ƒë·ªãa ch·ªâ giao h√†ng</li>
                    <li><strong>Soft Delete:</strong> H·ªó tr·ª£ x√≥a m·ªÅm</li>
                </ul>
            </div>
        </div>

        <!-- Architecture Diagram -->
        <div class="section">
            <h2>üèóÔ∏è Ki·∫øn Tr√∫c T·ªïng Quan</h2>
            <div class="mermaid">
flowchart TB
    subgraph Client["üì± Client"]
        FE[Frontend App]
        Admin[Admin Panel]
    end

    subgraph Controller["üéÆ Controller Layer"]
        UC[UserController]
        PC[ProfileController]
    end

    subgraph Service["‚öôÔ∏è Service Layer"]
        US[UserService]
    end

    subgraph Repository["üíæ Repository Layer"]
        UR[UserRepository]
        AR[AddressRepository]
    end

    subgraph Integration["üîó Integration"]
        AS[AuthService]
        IS[ImageService]
    end

    FE --> UC
    FE --> PC
    Admin --> UC
    UC --> US
    PC --> US
    US --> UR
    US --> AR
    AS --> US
    US --> IS
            </div>
        </div>

        <!-- User Roles -->
        <div class="section">
            <h2>üë• User Roles</h2>
            <table>
                <thead>
                    <tr>
                        <th>Role</th>
                        <th>M√¥ t·∫£</th>
                        <th>Permissions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge badge-info">CUSTOMER</span></td>
                        <td>Kh√°ch h√†ng</td>
                        <td>ƒê·∫∑t h√†ng, ƒë·∫∑t l·ªãch, ƒë√°nh gi√°, qu·∫£n l√Ω profile</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-warning">STAFF</span></td>
                        <td>Nh√¢n vi√™n</td>
                        <td>Qu·∫£n l√Ω ƒë∆°n h√†ng, ƒëo s·ªë ƒëo, ph·ª•c v·ª• kh√°ch</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-success">TAILOR</span></td>
                        <td>Th·ª£ may</td>
                        <td>Nh·∫≠n v√† ho√†n th√†nh ƒë∆°n may ƒëo</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-danger">ADMIN</span></td>
                        <td>Qu·∫£n tr·ªã vi√™n</td>
                        <td>Full access, qu·∫£n l√Ω users, settings</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Entity Diagram -->
        <div class="section">
            <h2>üìä Entity Diagram</h2>
            <div class="mermaid">
erDiagram
    USER ||--o{ ADDRESS : has
    USER ||--o{ ORDER : places
    USER ||--o{ MEASUREMENT : has
    USER ||--o{ APPOINTMENT : books
    USER ||--o{ REVIEW : writes

    USER {
        Long id PK
        String email UK
        String phone UK
        String password
        String fullName
        String avatarUrl
        Role role
        Boolean isEmailVerified
        Boolean isPhoneVerified
        Boolean isActive
        LocalDate dateOfBirth
        Gender gender
        Timestamp createdAt
        Timestamp updatedAt
        Boolean isDeleted
    }

    ADDRESS {
        Long id PK
        Long userId FK
        String fullName
        String phone
        String province
        String district
        String ward
        String streetAddress
        Boolean isDefault
        Boolean isDeleted
    }
            </div>
        </div>

        <!-- API Endpoints -->
        <div class="section">
            <h2>üåê API Endpoints</h2>
            
            <h3>User Management (Admin)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Endpoint</th>
                        <th>M√¥ t·∫£</th>
                        <th>Auth</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge badge-primary">GET</span></td>
                        <td><code>/api/v1/users</code></td>
                        <td>Danh s√°ch t·∫•t c·∫£ users (paginated)</td>
                        <td>ADMIN</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-primary">GET</span></td>
                        <td><code>/api/v1/users/{id}</code></td>
                        <td>Chi ti·∫øt user</td>
                        <td>ADMIN, STAFF</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-primary">GET</span></td>
                        <td><code>/api/v1/users/customers</code></td>
                        <td>Danh s√°ch kh√°ch h√†ng</td>
                        <td>ADMIN, STAFF</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-primary">GET</span></td>
                        <td><code>/api/v1/users/staff</code></td>
                        <td>Danh s√°ch nh√¢n vi√™n</td>
                        <td>ADMIN</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-primary">GET</span></td>
                        <td><code>/api/v1/users/tailors</code></td>
                        <td>Danh s√°ch th·ª£ may</td>
                        <td>ADMIN, STAFF</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-success">POST</span></td>
                        <td><code>/api/v1/users</code></td>
                        <td>T·∫°o user m·ªõi (by admin)</td>
                        <td>ADMIN</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-warning">PUT</span></td>
                        <td><code>/api/v1/users/{id}</code></td>
                        <td>C·∫≠p nh·∫≠t user</td>
                        <td>ADMIN</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-danger">DELETE</span></td>
                        <td><code>/api/v1/users/{id}</code></td>
                        <td>X√≥a user (soft delete)</td>
                        <td>ADMIN</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-warning">PATCH</span></td>
                        <td><code>/api/v1/users/{id}/status</code></td>
                        <td>K√≠ch ho·∫°t/v√¥ hi·ªáu h√≥a user</td>
                        <td>ADMIN</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-warning">PATCH</span></td>
                        <td><code>/api/v1/users/{id}/role</code></td>
                        <td>Thay ƒë·ªïi role</td>
                        <td>ADMIN</td>
                    </tr>
                </tbody>
            </table>

            <h3>Profile Management (User)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Endpoint</th>
                        <th>M√¥ t·∫£</th>
                        <th>Auth</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge badge-primary">GET</span></td>
                        <td><code>/api/v1/profile</code></td>
                        <td>Xem profile c·ªßa m√¨nh</td>
                        <td>Authenticated</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-warning">PUT</span></td>
                        <td><code>/api/v1/profile</code></td>
                        <td>C·∫≠p nh·∫≠t profile</td>
                        <td>Authenticated</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-success">POST</span></td>
                        <td><code>/api/v1/profile/avatar</code></td>
                        <td>Upload avatar</td>
                        <td>Authenticated</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-warning">PUT</span></td>
                        <td><code>/api/v1/profile/password</code></td>
                        <td>ƒê·ªïi m·∫≠t kh·∫©u</td>
                        <td>Authenticated</td>
                    </tr>
                </tbody>
            </table>

            <h3>Address Management</h3>
            <table>
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Endpoint</th>
                        <th>M√¥ t·∫£</th>
                        <th>Auth</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge badge-primary">GET</span></td>
                        <td><code>/api/v1/addresses</code></td>
                        <td>Danh s√°ch ƒë·ªãa ch·ªâ c·ªßa m√¨nh</td>
                        <td>CUSTOMER</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-success">POST</span></td>
                        <td><code>/api/v1/addresses</code></td>
                        <td>Th√™m ƒë·ªãa ch·ªâ m·ªõi</td>
                        <td>CUSTOMER</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-warning">PUT</span></td>
                        <td><code>/api/v1/addresses/{id}</code></td>
                        <td>C·∫≠p nh·∫≠t ƒë·ªãa ch·ªâ</td>
                        <td>CUSTOMER</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-danger">DELETE</span></td>
                        <td><code>/api/v1/addresses/{id}</code></td>
                        <td>X√≥a ƒë·ªãa ch·ªâ</td>
                        <td>CUSTOMER</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-warning">PATCH</span></td>
                        <td><code>/api/v1/addresses/{id}/default</code></td>
                        <td>ƒê·∫∑t l√†m ƒë·ªãa ch·ªâ m·∫∑c ƒë·ªãnh</td>
                        <td>CUSTOMER</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Create User Flow -->
        <div class="section">
            <h2>üîÑ Create User Flow (Admin)</h2>
            <div class="mermaid">
sequenceDiagram
    participant A as Admin
    participant UC as UserController
    participant US as UserService
    participant UR as UserRepository
    participant PE as PasswordEncoder

    A->>UC: POST /users {email, phone, fullName, role, password}
    UC->>US: createUser(request)
    
    US->>UR: existsByEmail(email)
    alt Email exists
        UR-->>US: true
        US-->>A: 409 Conflict (Email already exists)
    else Email available
        UR-->>US: false
        
        US->>UR: existsByPhone(phone)
        alt Phone exists
            UR-->>US: true
            US-->>A: 409 Conflict (Phone already exists)
        else Phone available
            UR-->>US: false
            
            US->>PE: encode(password)
            PE-->>US: encodedPassword
            
            US->>US: Create UserEntity
            Note over US: email, phone, fullName
            Note over US: role = request.role
            Note over US: isActive = true
            Note over US: isEmailVerified = false
            
            US->>UR: save(user)
            UR-->>US: savedUser
            
            US-->>A: 201 Created {userResponse}
        end
    end
            </div>
        </div>

        <!-- Update Profile Flow -->
        <div class="section">
            <h2>üìù Update Profile Flow</h2>
            <div class="mermaid">
sequenceDiagram
    participant U as User
    participant PC as ProfileController
    participant US as UserService
    participant UR as UserRepository

    U->>PC: PUT /profile {fullName, phone, dateOfBirth, gender}
    PC->>US: updateProfile(request, currentUserId)
    
    US->>UR: findByIdAndIsDeletedFalse(currentUserId)
    UR-->>US: UserEntity
    
    alt Phone changed
        US->>UR: existsByPhoneAndIdNot(newPhone, userId)
        alt Phone taken by others
            UR-->>US: true
            US-->>U: 409 Conflict (Phone already used)
        else Phone available
            UR-->>US: false
        end
    end
    
    US->>US: Update fields
    Note over US: fullName = request.fullName
    Note over US: phone = request.phone
    Note over US: dateOfBirth = request.dateOfBirth
    Note over US: gender = request.gender
    
    US->>UR: save(user)
    UR-->>US: updatedUser
    
    US-->>U: 200 OK {userResponse}
            </div>
        </div>

        <!-- Avatar Upload -->
        <div class="section">
            <h2>üñºÔ∏è Avatar Upload Flow</h2>
            <div class="mermaid">
sequenceDiagram
    participant U as User
    participant PC as ProfileController
    participant US as UserService
    participant IS as ImageService
    participant UR as UserRepository

    U->>PC: POST /profile/avatar (multipart file)
    PC->>US: uploadAvatar(file, userId)
    
    US->>UR: findByIdAndIsDeletedFalse(userId)
    UR-->>US: UserEntity
    
    alt Has old avatar
        US->>IS: deleteImage(oldAvatarUrl)
    end
    
    US->>IS: uploadImage(file, "avatars")
    IS-->>US: newAvatarUrl
    
    US->>US: user.setAvatarUrl(newAvatarUrl)
    US->>UR: save(user)
    UR-->>US: updatedUser
    
    US-->>U: 200 OK {avatarUrl}
            </div>
        </div>

        <!-- Address Management -->
        <div class="section">
            <h2>üìç Address Management Flow</h2>
            <div class="mermaid">
sequenceDiagram
    participant C as Customer
    participant AC as AddressController
    participant US as UserService
    participant AR as AddressRepository

    C->>AC: POST /addresses {fullName, phone, province, district, ward, streetAddress, isDefault}
    AC->>US: addAddress(request, userId)
    
    alt isDefault = true
        US->>AR: updateAllToNotDefault(userId)
        Note over AR: Set isDefault = false for all
    end
    
    US->>US: Create AddressEntity
    US->>AR: save(address)
    AR-->>US: savedAddress
    
    US-->>C: 201 Created {addressResponse}
            </div>

            <div class="info-box">
                <strong>üí° Default Address Logic:</strong>
                <p>Khi ƒë·∫∑t m·ªôt ƒë·ªãa ch·ªâ l√†m m·∫∑c ƒë·ªãnh, t·∫•t c·∫£ c√°c ƒë·ªãa ch·ªâ kh√°c s·∫Ω t·ª± ƒë·ªông ƒë∆∞·ª£c c·∫≠p nh·∫≠t <code>isDefault = false</code>.</p>
            </div>
        </div>

        <!-- Search & Filter -->
        <div class="section">
            <h2>üîç Search & Filter</h2>
            
            <h3>Query Parameters</h3>
            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Type</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>keyword</code></td>
                        <td>String</td>
                        <td>T√¨m theo t√™n, email, phone</td>
                    </tr>
                    <tr>
                        <td><code>role</code></td>
                        <td>Enum</td>
                        <td>CUSTOMER, STAFF, TAILOR, ADMIN</td>
                    </tr>
                    <tr>
                        <td><code>isActive</code></td>
                        <td>Boolean</td>
                        <td>Tr·∫°ng th√°i k√≠ch ho·∫°t</td>
                    </tr>
                    <tr>
                        <td><code>isEmailVerified</code></td>
                        <td>Boolean</td>
                        <td>ƒê√£ x√°c th·ª±c email</td>
                    </tr>
                    <tr>
                        <td><code>createdFrom</code></td>
                        <td>Date</td>
                        <td>Ng√†y t·∫°o t·ª´</td>
                    </tr>
                    <tr>
                        <td><code>createdTo</code></td>
                        <td>Date</td>
                        <td>Ng√†y t·∫°o ƒë·∫øn</td>
                    </tr>
                    <tr>
                        <td><code>page</code></td>
                        <td>Integer</td>
                        <td>S·ªë trang (0-indexed)</td>
                    </tr>
                    <tr>
                        <td><code>size</code></td>
                        <td>Integer</td>
                        <td>S·ªë items per page</td>
                    </tr>
                    <tr>
                        <td><code>sort</code></td>
                        <td>String</td>
                        <td>createdAt,desc ho·∫∑c fullName,asc</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- DTOs -->
        <div class="section">
            <h2>üì¶ Data Transfer Objects</h2>

            <h3>UserRequest (Create/Update)</h3>
            <pre><code>{
    "email": "customer@example.com",
    "phone": "0901234567",
    "fullName": "Nguy·ªÖn VƒÉn A",
    "password": "SecurePass123!",  // Only for create
    "role": "CUSTOMER",  // Only admin can set
    "dateOfBirth": "1990-05-15",
    "gender": "MALE"
}</code></pre>

            <h3>UserResponse</h3>
            <pre><code>{
    "id": 1,
    "email": "customer@example.com",
    "phone": "0901234567",
    "fullName": "Nguy·ªÖn VƒÉn A",
    "avatarUrl": "https://cdn.example.com/avatars/1.jpg",
    "role": "CUSTOMER",
    "dateOfBirth": "1990-05-15",
    "gender": "MALE",
    "isActive": true,
    "isEmailVerified": true,
    "isPhoneVerified": false,
    "createdAt": "2024-01-01T10:00:00Z",
    "updatedAt": "2024-06-15T14:30:00Z"
}</code></pre>

            <h3>ProfileUpdateRequest</h3>
            <pre><code>{
    "fullName": "Nguy·ªÖn VƒÉn B",
    "phone": "0909876543",
    "dateOfBirth": "1990-05-15",
    "gender": "MALE"
}</code></pre>

            <h3>AddressRequest</h3>
            <pre><code>{
    "fullName": "Nguy·ªÖn VƒÉn A",
    "phone": "0901234567",
    "province": "H·ªì Ch√≠ Minh",
    "district": "Qu·∫≠n 1",
    "ward": "Ph∆∞·ªùng B·∫øn Ngh√©",
    "streetAddress": "123 ƒê∆∞·ªùng L√™ L·ª£i",
    "isDefault": true
}</code></pre>

            <h3>AddressResponse</h3>
            <pre><code>{
    "id": 1,
    "fullName": "Nguy·ªÖn VƒÉn A",
    "phone": "0901234567",
    "province": "H·ªì Ch√≠ Minh",
    "district": "Qu·∫≠n 1",
    "ward": "Ph∆∞·ªùng B·∫øn Ngh√©",
    "streetAddress": "123 ƒê∆∞·ªùng L√™ L·ª£i",
    "fullAddress": "123 ƒê∆∞·ªùng L√™ L·ª£i, Ph∆∞·ªùng B·∫øn Ngh√©, Qu·∫≠n 1, H·ªì Ch√≠ Minh",
    "isDefault": true,
    "createdAt": "2024-01-01T10:00:00Z"
}</code></pre>
        </div>

        <!-- Dependencies -->
        <div class="section">
            <h2>üîó Dependencies</h2>
            <div class="mermaid">
flowchart LR
    subgraph UserModule["üë§ User Module"]
        US[UserService]
    end

    subgraph AuthModule["üîê Auth Module"]
        AS[AuthService]
    end

    subgraph ImageModule["üñºÔ∏è Image Module"]
        IS[ImageService]
    end

    subgraph OrderModule["üìã Order Module"]
        OS[OrderService]
    end

    subgraph BillingModule["üí≥ Billing Module"]
        BS[InvoiceService]
    end

    subgraph MeasurementModule["üìè Measurement Module"]
        MS[MeasurementService]
    end

    AS --> US
    OS --> US
    BS --> US
    MS --> US
    US --> IS
            </div>
        </div>

        <footer>
            <p>Tailor Shop - UserService Documentation</p>
            <p style="margin-top: 10px;">Generated for Backend Team Reference</p>
        </footer>
    </div>

    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>
</body>

</html>
