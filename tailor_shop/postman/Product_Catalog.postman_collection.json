{
  "info": {
    "name": "Tailor Shop - Product & Catalog",
    "_postman_id": "product-catalog-collection-2024",
    "description": "Collection test cho Product/Catalog module.\nSử dụng biến {{base_url}} và {{token}} (Bearer).\n\nProducts: Public list/detail, Admin/Staff CRUD\nStyles: Public list/detail, Admin/Staff CRUD\nFavorites: Customer only",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth - Login",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": "{{base_url}}/api/v1/auth/login",
        "body": {
          "mode": "raw",
          "raw": "{\n  \"username\": \"customer1\",\n  \"password\": \"password\"\n}"
        }
      }
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "List Products - All",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products?page=0&size=20",
              "query": [
                { "key": "page", "value": "0" },
                { "key": "size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "List Products - Filter by Category",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products?category=shirt&page=0&size=20",
              "query": [
                { "key": "category", "value": "shirt" },
                { "key": "page", "value": "0" },
                { "key": "size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "List Products - Filter by Occasion",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products?occasion=office&page=0&size=20",
              "query": [
                { "key": "occasion", "value": "office" },
                { "key": "page", "value": "0" },
                { "key": "size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "List Products - Search by Keyword",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products?keyword=áo sơ mi&page=0&size=20",
              "query": [
                { "key": "keyword", "value": "áo sơ mi" },
                { "key": "page", "value": "0" },
                { "key": "size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "List Products - Filter by Price Range",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products?minPrice=500000&maxPrice=1000000&page=0&size=20",
              "query": [
                { "key": "minPrice", "value": "500000" },
                { "key": "maxPrice", "value": "1000000" },
                { "key": "page", "value": "0" },
                { "key": "size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "List Products - Filter by Rating",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products?minRating=4.0&page=0&size=20",
              "query": [
                { "key": "minRating", "value": "4.0" },
                { "key": "page", "value": "0" },
                { "key": "size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "List Products - Sort by Price",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products?sort=price,asc&page=0&size=20",
              "query": [
                { "key": "sort", "value": "price,asc" },
                { "key": "page", "value": "0" },
                { "key": "size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "List Products - Multiple Filters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products?category=shirt&occasion=office&minPrice=500000&maxPrice=1000000&minRating=4.0&page=0&size=20",
              "query": [
                { "key": "category", "value": "shirt" },
                { "key": "occasion", "value": "office" },
                { "key": "minPrice", "value": "500000" },
                { "key": "maxPrice", "value": "1000000" },
                { "key": "minRating", "value": "4.0" },
                { "key": "page", "value": "0" },
                { "key": "size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "Product Detail",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products/{{productKey}}",
              "query": []
            }
          }
        },
        {
          "name": "Create Product (Admin/Staff)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/api/v1/products",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"key\": \"ao-so-mi-truyen-thong\",\n  \"name\": \"Áo Sơ Mi Truyền Thống\",\n  \"slug\": \"ao-so-mi-truyen-thong\",\n  \"description\": \"Áo sơ mi may đo theo số đo cá nhân, chất liệu cao cấp, phù hợp cho văn phòng\",\n  \"tag\": \"bestseller\",\n  \"price\": 500000,\n  \"priceRange\": \"500,000 - 800,000\",\n  \"image\": \"https://s3.example.com/products/ao-so-mi.jpg\",\n  \"gallery\": [\n    \"https://s3.example.com/products/ao-so-mi-1.jpg\",\n    \"https://s3.example.com/products/ao-so-mi-2.jpg\"\n  ],\n  \"occasion\": \"office\",\n  \"category\": \"shirt\",\n  \"budget\": \"medium\",\n  \"type\": \"custom\"\n}"
            }
          }
        },
        {
          "name": "Update Product (Admin/Staff)",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/products/{{productKey}}",
              "query": []
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Áo Sơ Mi Truyền Thống (Updated)\",\n  \"description\": \"Mô tả đã cập nhật\",\n  \"price\": 550000,\n  \"tag\": \"new\"\n}"
            }
          }
        },
        {
          "name": "Delete Product (Admin/Staff)",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/products/{{productKey}}",
              "query": []
            }
          }
        }
      ]
    },
    {
      "name": "Styles",
      "item": [
        {
          "name": "List Styles - All",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/styles?page=0&size=20",
              "query": [
                { "key": "page", "value": "0" },
                { "key": "size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "List Styles - Filter by Category",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/styles?category=formal&page=0&size=20",
              "query": [
                { "key": "category", "value": "formal" },
                { "key": "page", "value": "0" },
                { "key": "size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "List Styles - Search by Keyword",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/styles?keyword=classic&page=0&size=20",
              "query": [
                { "key": "keyword", "value": "classic" },
                { "key": "page", "value": "0" },
                { "key": "size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "Style Detail",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/styles/{{styleId}}",
              "query": []
            }
          }
        },
        {
          "name": "Create Style (Admin/Staff)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/api/v1/styles",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Classic\",\n  \"category\": \"formal\",\n  \"image\": \"https://s3.example.com/styles/classic.jpg\",\n  \"description\": \"Phong cách cổ điển, thanh lịch, phù hợp cho các dịp trang trọng\",\n  \"price\": 800000\n}"
            }
          }
        },
        {
          "name": "Update Style (Admin/Staff)",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/styles/{{styleId}}",
              "query": []
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Classic (Updated)\",\n  \"description\": \"Mô tả đã cập nhật\",\n  \"price\": 850000\n}"
            }
          }
        },
        {
          "name": "Delete Style (Admin/Staff)",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/styles/{{styleId}}",
              "query": []
            }
          }
        }
      ]
    },
    {
      "name": "Favorites",
      "item": [
        {
          "name": "List Favorites (Customer)",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/favorites?page=0&size=20",
              "query": [
                { "key": "page", "value": "0" },
                { "key": "size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "Add to Favorites (Customer)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/api/v1/favorites",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productKey\": \"{{productKey}}\"\n}"
            }
          }
        },
        {
          "name": "Remove from Favorites (Customer)",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/favorites/{{productKey}}",
              "query": []
            }
          }
        },
        {
          "name": "Check if Favorite (Customer)",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/favorites/check?productKey={{productKey}}",
              "query": [
                { "key": "productKey", "value": "{{productKey}}" }
              ]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    { "key": "base_url", "value": "http://localhost:8080" },
    { "key": "token", "value": "" },
    { "key": "productKey", "value": "ao-so-mi-truyen-thong" },
    { "key": "styleId", "value": "1" }
  ]
}

